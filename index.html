
<!--
    LEAPWIN フルソースコード Written by yoda.

　 -＝ .∧_∧
　-＝≡ (　ﾟдﾟ) ＜ 今日LEAPのテストやないか！
　　-＝ ( つ┯つ
　-＝≡ /　 ┃|
-＝≡　/　/ ┃)
　 ◎━＼)━┻◎
-->
<!DOCTYPE html>
<html lang="ja">
<meta charset="utf-8" />

<head>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <meta name="viewport" content="width=320,
      height=480,
      initial-scale=1.0,
      minimum-scale=1.0,
      maximum-scale=2.0,
      user-scalable=yes" />

    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', '[Google Analytics tag]');
    </script>

    <title>LEAP WIN</title>

    <style>
        #all-answers-container {
            margin-top: 2em;
        }
    </style>

    <script>
        window.console = window.console || function(t) {};
    </script>

    <script>
        if (document.location.search.match(/type=embed/gi)) {
            window.parent.postMessage("resize", "*");
        }
    </script>
</head>

<body style="background-color:#002e83;" translate="no" link="red" vlink="red" alink="red">


    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">

    <div class="container">

        <div id="js-question" class="mt-3 alert alert-primary" role="alert">東京ディズニーランドがある都道府県は？</div>
        <center>
            <input type="text" id="answer-input">
            <button type="button" class="btn btn-primary" id="submit-button">Answer!</button>
        </center>
        <div id="all-answers-container" style="display: none" style="color:rgb(255, 255, 255)">
            <h2 style="color:rgb(255, 255, 255)">総合答え合わせ</h2>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th style="color:rgb(255, 255, 255)">問題</th>
                        <th style="color:rgb(255, 255, 255)">解答</th>
                        <th style="color:rgb(255, 255, 255)">正答</th>
                        <th style="color:rgb(255, 255, 255)">正誤</th>
                    </tr>
                </thead>
                <tbody id="all-answers-tbody" style="color:rgb(255, 255, 255)">
                    <center>
                        <a href="[full path of this html file]"><img src="retry.jpg" width="370px"></a>
                    </center>
                </tbody>
            </table>
        </div>

    </div>

    <script src="leap.js"></script>
    <!--輸入したExcelを「テキスト（タブ区切り）」で保存→メモ帳でダブルクォーテーションとタブを削除→全コピペ-->
    <script id="rendered-js">
        const quiz = [

            {
                question: '[Question]',
                correct: '[Answer]'
            }, 

        ];

        quiz.sort(() => 0.5 - Math.random());

        const quizLength = quiz.length;
        let quizIndex = 0;
        let score = 0;

        const answerInput = document.getElementById('answer-input');
        const submitButton = document.getElementById('submit-button');

        // クイズの問題文を表示
        const setupQuiz = () => {
            document.getElementById('js-question').textContent = quiz[quizIndex].question;
            answerInput.value = '';
        };

        setupQuiz();

        const clickHandler = () => {
            var nokori1 = quizLength - quizIndex
            var nokori = nokori1 - 1

            quiz[quizIndex].input = answerInput.value;
            if (quiz[quizIndex].correct === answerInput.value) {
                window.alert('??正解??' + '\n\n残り' + nokori + '問 Fight!');
                score++;
            } else {
                window.alert('残念 この機会に覚えよう！\n正答⇒' + quiz[quizIndex].correct + '\n\n残り' + nokori + '問 Fight!');
            }
            quizIndex++; // 次の問題へ
            if (quizIndex < quizLength) {
                setupQuiz();
            } else {
                window.alert(' ??FINISH??\n正解数は' + score + '/' + quizLength + 'です。お疲れ様でした!');
                showAllAnswers();
            }
        };

        // ボタンクリックで正誤判定
        submitButton.addEventListener('click', () => {
            clickHandler();
        });

        const showAllAnswers = () => {
            const container = document.getElementById('all-answers-container');
            container.style.display = 'block';

            const tbody = document.getElementById('all-answers-tbody');
            for (const q of quiz) {
                const row = document.createElement('tr');
                row.innerHTML = `<td>${q.question}</td><td>${q.input}</td><td>${q.correct}</td><td>${q.input === q.correct ? '○' : '×'}</td>`;
                tbody.appendChild(row);
            }
        };
        //# sourceURL=pen.js
    </script>
    <br>
    <center>
        <span style="color:rgb(255, 255, 255);">
            <a href="[menu link]">メニューに戻る</a>
            <br>
            <br>
            <img src="top.png" width="370">
            <br>
            <br>
            <span style="color:rgb(255, 255, 255);">
                Produced by JASMINE TECHNICAL DEPARTMENT
    </center>
    <br>
    <br>
    </span>
</body>

</html>